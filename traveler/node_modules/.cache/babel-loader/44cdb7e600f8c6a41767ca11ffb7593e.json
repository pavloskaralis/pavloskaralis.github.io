{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/pavloskaralis/Desktop/pavloskaralis.github.io/traveler/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject3(){var data=_taggedTemplateLiteral([\"\\n  background-size: 20px;\\n  min-width: 40px;\\n  max-width: 40px; \\n  background-image: \",\";\\n  border-radius: \",\"; \\n\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral([\"\\n  background-color: \",\";\\n  width: 80px;\\n  height: 40px;\\n  border-radius: 0 8px 8px 0;\\n  cursor: pointer;\\n  background-image: url(\",\");\\n  background-size: 20px;\\n  background-repeat: no-repeat;\\n  background-position: center;\\n  color: \",\";\\n\\n  &:hover {\\n    background-color: \",\";\\n  }\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\n  display: flex;\\n  height: 40px;\\n  min-width: \",\"; \\n  border-radius: 8px;\\n  box-sizing: border-box;\\n  max-width: \",\";\\n  margin: \",\";\\n  background-color: white;\\n\\n  & input, select {\\n    font-size: 16px;\\n    padding: 0 16px;\\n    width: calc(100% - 80px);\\n    font-family: Verdana;\\n    border-radius: 8px 0 0 8px;\\n    border: none;\\n    outline: none;\\n    box-sizing: border-box;\\n\\n    @media (max-width: 499px) {\\n      max-width: 140px; \\n    }\\n  }\\n\\n  & select {\\n    min-height: 40px;\\n    text-align-last: center;\\n    padding-right: 20px; \\n    min-width:  0px; \\n    cursor: pointer; \\n\\n    @-moz-document url-prefix() {\\n      padding: 0;\\n    }\\n  }\\n\\n  &:hover {\\n    box-shadow: 0 2px 2px 0 rgba(0,0,0,.5);\\n  }\\n\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React from'react';import{connect}from'react-redux';import styled from'styled-components';import searchIcon from'../images/search.png';import leftIcon from'../images/left.png';import rightIcon from'../images/right.png';import setFilter from'../actions/setFilter.js';import toggleTable from'../actions/toggleTable.js';var Wrapper=styled.form(_templateObject(),function(props){return props.page==='index'?'50%':'0%';},function(props){return props.page==='show'?'400px':'';},function(props){return props.page==='show'?'0 8px':'';});var Submit=styled.div(_templateObject2(),function(props){return props.theme.black;},searchIcon,function(props){return props.theme.opaque;},function(props){return props.theme.blackHover;});var Arrow=styled(Submit)(_templateObject3(),function(props){return\"url(\".concat(props.image,\")\");},function(props){return props.radius;});var mapStateToProps=function mapStateToProps(state){return{table:state.table,tables:state.itinerary.dates,itinerary:state.itinerary};};var mapDispatchToProps={setFilter:setFilter,toggleTable:toggleTable};// component has conditional css based on current table or show page\nvar Search=function Search(_ref){var setFilter=_ref.setFilter,page=_ref.page,tables=_ref.tables,toggleTable=_ref.toggleTable,itinerary=_ref.itinerary,table=_ref.table;//conditional form submit \nvar submit=function submit(e){e.preventDefault();switch(page){case'index':setFilter(query.value);break;case'show':toggleTable(query.value);break;default:return;}};//required to update query value once submit is used; passed to left and right onClick\nvar update=function update(nextTable){return document.querySelector('select').value=nextTable;};//conditional table arrow button values\nvar left;var right;if(tables){var currentIndex=tables.indexOf(table);left=currentIndex!==0?tables[currentIndex-1]:tables[tables.length-1];right=currentIndex!==tables.length-1?tables[currentIndex+1]:tables[0];}//input reference\nvar query;return(/*#__PURE__*/React.createElement(Wrapper,{page:page,onSubmit:submit},page==='show'&&/*#__PURE__*/React.createElement(Arrow,{radius:\"8px 0 0 8px\",image:leftIcon,onClick:function onClick(){toggleTable(left);update(left);}}),page==='index'&&/*#__PURE__*/React.createElement(\"input\",{type:\"text\",ref:function ref(node){return query=node;},id:\"search\"}),page==='show'&&itinerary&&/*#__PURE__*/React.createElement(\"select\",{onChange:function onChange(){toggleTable(query.value);update(query.value);},ref:function ref(node){return query=node;},autoFocus:true},itinerary.dates.map(function(date){return(/*#__PURE__*/React.createElement(\"option\",{key:date,value:date},date));})),page==='show'&&/*#__PURE__*/React.createElement(Arrow,{image:rightIcon,onClick:function onClick(){toggleTable(right);update(right);}}),page==='index'&&/*#__PURE__*/React.createElement(Submit,{onClick:function onClick(e){e.preventDefault();setFilter(query.value);}})));};Search=connect(mapStateToProps,mapDispatchToProps)(Search);export default Search;","map":{"version":3,"sources":["/Users/pavloskaralis/Desktop/pavloskaralis.github.io/traveler/src/components/Search.js"],"names":["React","connect","styled","searchIcon","leftIcon","rightIcon","setFilter","toggleTable","Wrapper","form","props","page","Submit","div","theme","black","opaque","blackHover","Arrow","image","radius","mapStateToProps","state","table","tables","itinerary","dates","mapDispatchToProps","Search","submit","e","preventDefault","query","value","update","nextTable","document","querySelector","left","right","currentIndex","indexOf","length","node","map","date"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { connect } from 'react-redux'\nimport styled from 'styled-components'\nimport searchIcon from '../images/search.png'\nimport leftIcon from '../images/left.png'\nimport rightIcon from '../images/right.png'\nimport setFilter from '../actions/setFilter.js'\nimport toggleTable from '../actions/toggleTable.js'\n\nconst Wrapper = styled.form`\n  display: flex;\n  height: 40px;\n  min-width: ${props => props.page === 'index' ? '50%' : '0%'}; \n  border-radius: 8px;\n  box-sizing: border-box;\n  max-width: ${props => props.page === 'show' ? '400px' : ''};\n  margin: ${props => props.page === 'show' ? '0 8px' : ''};\n  background-color: white;\n\n  & input, select {\n    font-size: 16px;\n    padding: 0 16px;\n    width: calc(100% - 80px);\n    font-family: Verdana;\n    border-radius: 8px 0 0 8px;\n    border: none;\n    outline: none;\n    box-sizing: border-box;\n\n    @media (max-width: 499px) {\n      max-width: 140px; \n    }\n  }\n\n  & select {\n    min-height: 40px;\n    text-align-last: center;\n    padding-right: 20px; \n    min-width:  0px; \n    cursor: pointer; \n\n    @-moz-document url-prefix() {\n      padding: 0;\n    }\n  }\n\n  &:hover {\n    box-shadow: 0 2px 2px 0 rgba(0,0,0,.5);\n  }\n\n`;\n\nconst Submit = styled.div`\n  background-color: ${props => props.theme.black};\n  width: 80px;\n  height: 40px;\n  border-radius: 0 8px 8px 0;\n  cursor: pointer;\n  background-image: url(${searchIcon});\n  background-size: 20px;\n  background-repeat: no-repeat;\n  background-position: center;\n  color: ${props => props.theme.opaque};\n\n  &:hover {\n    background-color: ${props => props.theme.blackHover};\n  }\n`;\n\nconst Arrow = styled(Submit)`\n  background-size: 20px;\n  min-width: 40px;\n  max-width: 40px; \n  background-image: ${props => `url(${props.image})`};\n  border-radius: ${props => props.radius}; \n`;\n\n\nconst mapStateToProps = state => {\n  return {\n    table: state.table,\n    tables: state.itinerary.dates,\n    itinerary: state.itinerary\n  }\n}\n\nconst mapDispatchToProps = {\n  setFilter,\n  toggleTable\n}\n\n\n// component has conditional css based on current table or show page\nlet Search = ({setFilter, page, tables, toggleTable, itinerary, table}) => {\n\n  //conditional form submit \n  const submit = e => {\n    e.preventDefault();\n    \n    switch(page) {\n      case 'index': setFilter(query.value);\n        break;\n      case 'show': toggleTable(query.value);\n        break;\n      default: return;\n    }\n   \n  }\n\n  //required to update query value once submit is used; passed to left and right onClick\n  const update = (nextTable) => document.querySelector('select').value = nextTable;\n\n  //conditional table arrow button values\n  let left;\n  let right;\n  if(tables){\n    const currentIndex = tables.indexOf(table);\n    left = currentIndex !== 0 ? tables[currentIndex - 1] : tables[tables.length - 1];\n    right = currentIndex !== tables.length - 1 ? tables[currentIndex + 1] : tables[0];\n  }\n\n  //input reference\n  let query;\n\n  return (\n      <Wrapper page={page} onSubmit={submit}>\n        {page === 'show' && <Arrow radius='8px 0 0 8px' image={leftIcon} onClick={ ()=> {toggleTable(left); update(left)}}/>}\n        {page === 'index' && <input type='text' ref={node => query = node} id='search'/>}\n        {page === 'show' && itinerary &&       \n          <select  onChange={()=>{toggleTable(query.value); update(query.value)}} ref={node => query = node} autoFocus >\n              {itinerary.dates.map(date => {\n                  return (\n                      <option key={date} value={date}>{date}</option>\n                  )\n              })}\n          </select>\n        }\n        {page === 'show' && <Arrow image={rightIcon} onClick={ ()=> {toggleTable(right); update(right)}}/>}\n        {page === 'index' && <Submit onClick={e => {e.preventDefault(); setFilter(query.value)}}/>}\n      </Wrapper> \n  )\n}\n\nSearch = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Search)\n\nexport default Search\n\n  "]},"metadata":{},"sourceType":"module"}