{"ast":null,"code":"import _toConsumableArray from\"/Users/pavloskaralis/Desktop/pavloskaralis.github.io/traveler/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/pavloskaralis/Desktop/pavloskaralis.github.io/traveler/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/pavloskaralis/Desktop/pavloskaralis.github.io/traveler/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject7(){var data=_taggedTemplateLiteral([\"\\n    cursor: pointer;\\n    align-self: center;\\n    background-color: \",\";\\n    width: 18px;\\n    height: 18px;\\n    border-radius: 4px;\\n    background-image: \",\";\\n    background-size: 10px;\\n    background-position: center;\\n    background-repeat: no-repeat;\\n\\n    &:hover {\\n        background-color: \",\";\\n    }\\n\"]);_templateObject7=function _templateObject7(){return data;};return data;}function _templateObject6(){var data=_taggedTemplateLiteral([\"\\n    padding: 4px; \\n    font-family: 'Verdana';\\n    width: 125px;\\n    height: 36px;\\n    box-sizing: border-box;\\n    font-size: 15px;\\n    border: 0;\\n    outline: 0;\\n    cursor: text;\\n    font-weight: 600;\\n\"]);_templateObject6=function _templateObject6(){return data;};return data;}function _templateObject5(){var data=_taggedTemplateLiteral([\"\\n    font-family: Verdana;\\n    color: \",\";\\n    align-self: center;\\n    margin-right: 16px;\\n    font-weight: 600;\\n    cursor: default;\\n    font-size: 18px;\\n\"]);_templateObject5=function _templateObject5(){return data;};return data;}function _templateObject4(){var data=_taggedTemplateLiteral([\"\\n    background-image: \",\";\\n    background-size: 37px;\\n    background-repeat: no-repeat;\\n    background-position: center; \\n    width: 50px;\\n    height: 50px;\\n    border-radius: 50px;\\n    cursor: pointer;\\n    align-self: center;\\n\\n    &:hover {\\n        background-color: \",\";\\n    }\\n\"]);_templateObject4=function _templateObject4(){return data;};return data;}function _templateObject3(){var data=_taggedTemplateLiteral([\"\\n    box-sizing: border-box;\\n    min-height: 60px;\\n    width: 16.67%;\\n    display: flex;\\n    flex-direction: \",\";\\n    justify-content: center;\\n\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral([\"\\n    box-sizing: border-box;\\n    min-height: 60px;\\n    width: 16.67%;\\n    background-color: white;\\n    color: \",\";\\n    font-family: Verdana;\\n    font-size: 16px;\\n    padding: 19px 8px;\\n    border: none;\\n    resize: none;\\n    outline: none;\\n    font-weight: \",\";\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\n    min-height: 60px;\\n    width: 100%;\\n    min-width: 768px;\\n    display: flex;\\n    border-bottom: 1px solid \",\";\\n    padding: 0 8px;\\n    box-sizing: border-box;\\n\\n    input::-webkit-datetime-edit-hour-field:focus,\\n    input::-webkit-datetime-edit-minute-field:focus,\\n    input::-webkit-datetime-edit-ampm-field:focus {\\n        background-color: \",\";\\n    }\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useState,useEffect}from'react';import{connect}from'react-redux';import styled from'styled-components';import{TextareaAutosize}from'@material-ui/core';import scheduleIcon from'../images/schedule.png';import cancelIcon from'../images/cancel.png';import addIcon from'../images/add.png';import subtractIcon from'../images/subtract.png';import toggleForm from'../actions/toggleForm';import selectPlanningRow from'../actions/selectPlanningRow.js';import putPlanningRow from'../actions/putPlanningRow.js';import deleteSchedulingRow from'../actions/deleteSchedulingRow.js';import putSchedulingRow from'../actions/putSchedulingRow.js';var Wrapper=styled.div(_templateObject(),function(props){return props.theme.gray;},function(props){return props.theme.blue;});var TextArea=styled(TextareaAutosize)(_templateObject2(),function(props){return props.theme.black;},function(props){return props.first?'600':'';});var TDContainer=styled.div(_templateObject3(),function(props){return props.interest?'row':'column';});var Icon=styled.div(_templateObject4(),function(props){return\"url(\".concat(props.image,\")\");},function(props){return props.theme.orange;});var Interest=styled.div(_templateObject5(),function(props){return props.theme.black;});var Time=styled.input(_templateObject6());var Button=styled.div(_templateObject7(),function(props){return props.theme.black;},function(props){return\"url(\".concat(props.image,\")\");},function(props){return props.theme.blackHover;});var mapStateToProps=function mapStateToProps(state){return{userID:state.userID};};var mapDispatchToProps={toggleForm:toggleForm,selectPlanningRow:selectPlanningRow,putPlanningRow:putPlanningRow,deleteSchedulingRow:deleteSchedulingRow,putSchedulingRow:putSchedulingRow};var Row=function Row(_ref){var rowType=_ref.rowType,row=_ref.row,userID=_ref.userID,toggleForm=_ref.toggleForm,selectPlanningRow=_ref.selectPlanningRow,putPlanningRow=_ref.putPlanningRow,deleteSchedulingRow=_ref.deleteSchedulingRow,putSchedulingRow=_ref.putSchedulingRow;//textarea cannot use ref; must rely on state values for storage\nvar _useState=useState(row.activity),_useState2=_slicedToArray(_useState,2),activity=_useState2[0],updateActivity=_useState2[1];var _useState3=useState(row.category),_useState4=_slicedToArray(_useState3,2),type=_useState4[0],updateType=_useState4[1];var _useState5=useState(row.address),_useState6=_slicedToArray(_useState5,2),address=_useState6[0],updateAddress=_useState6[1];var _useState7=useState(row.website),_useState8=_slicedToArray(_useState7,2),website=_useState8[0],updateWebsite=_useState8[1];var _useState9=useState(row.interest),_useState10=_slicedToArray(_useState9,2),interest=_useState10[0],updateInterest=_useState10[1];var _useState11=useState(row.time),_useState12=_slicedToArray(_useState11,2),time=_useState12[0],updateTime=_useState12[1];//onClick for interest button; not a text area\nvar toggleInterest=function toggleInterest(){var updatedInterest=interest.indexOf(userID)===-1?[].concat(_toConsumableArray(interest),[userID]):[].concat(_toConsumableArray(interest.slice(0,interest.indexOf(userID))),_toConsumableArray(interest.slice(interest.indexOf(userID)+1)));updateInterest(updatedInterest);};// autoupdate for sort \n//handles input value change for both planning and scheduling row\nvar handleInput=function handleInput(e){switch(e.target.id){case\"activity\".concat(row.id):return updateActivity(e.target.value);case\"type\".concat(row.id):return updateType(e.target.value);case\"address\".concat(row.id):return updateAddress(e.target.value);case\"website\".concat(row.id):return updateWebsite(e.target.value);case\"time\".concat(row.id):return updateTime(e.target.value);default:console.log();}// updatedTime =  document.querySelector(`#time${row.id}`).value;\n};useEffect(function(){// put request row on dismount if changed\nif(row.interest){var updatedPlanning={activity:activity,category:type,address:address,website:website,interest:JSON.stringify(interest)};if(row.activity!==updatedPlanning.activity||row.category!==updatedPlanning.category||row.address!==updatedPlanning.address||row.website!==updatedPlanning.website||JSON.stringify(row.interest)!==updatedPlanning.interest)putPlanningRow(row.id,updatedPlanning,row.id);}else{var updatedScheduling={activity:activity,category:type,address:address,website:website,time:time};if(row.activity!==updatedScheduling.activity||row.category!==updatedScheduling.category||row.address!==updatedScheduling.address||row.website!==updatedScheduling.website||row.time!==updatedScheduling.time)putSchedulingRow(row.id,updatedScheduling,row.id);}},[time,activity,type,website,address,interest]);return(/*#__PURE__*/React.createElement(React.Fragment,null,rowType==='planning'&&/*#__PURE__*/React.createElement(Wrapper,{id:row.id},/*#__PURE__*/React.createElement(TextArea,{onChange:handleInput,value:activity,first:\"true\",id:\"activity\".concat(row.id)}),/*#__PURE__*/React.createElement(TextArea,{onChange:handleInput,value:type,id:\"type\".concat(row.id)}),/*#__PURE__*/React.createElement(TextArea,{onChange:handleInput,value:address,id:\"address\".concat(row.id)}),/*#__PURE__*/React.createElement(TextArea,{onChange:handleInput,value:website,id:\"website\".concat(row.id)}),/*#__PURE__*/React.createElement(TDContainer,{interest:true},/*#__PURE__*/React.createElement(Interest,null,interest.length),/*#__PURE__*/React.createElement(Button,{image:interest.indexOf(userID)===-1?addIcon:subtractIcon,onClick:function onClick(){return toggleInterest(interest);},id:\"interest\"})),/*#__PURE__*/React.createElement(TDContainer,null,/*#__PURE__*/React.createElement(Icon,{image:scheduleIcon,onClick:function onClick(){selectPlanningRow(row);toggleForm('schedule');}}))),rowType==='scheduling'&&/*#__PURE__*/React.createElement(Wrapper,{id:row.id},/*#__PURE__*/React.createElement(TDContainer,null,/*#__PURE__*/React.createElement(Time,{type:\"time\",onChange:handleInput,defaultValue:row.time,id:\"time\".concat(row.id),placeholder:\"hh:mm\"})),/*#__PURE__*/React.createElement(TextArea,{onChange:handleInput,value:activity,id:\"activity\".concat(row.id)}),/*#__PURE__*/React.createElement(TextArea,{onChange:handleInput,value:type,id:\"type\".concat(row.id)}),/*#__PURE__*/React.createElement(TextArea,{onChange:handleInput,value:address,id:\"address\".concat(row.id)}),/*#__PURE__*/React.createElement(TextArea,{onChange:handleInput,value:website,id:\"website\".concat(row.id)}),/*#__PURE__*/React.createElement(TDContainer,null,/*#__PURE__*/React.createElement(Icon,{image:cancelIcon,onClick:function onClick(){return deleteSchedulingRow(row.id);}})))));};Row=connect(mapStateToProps,mapDispatchToProps)(Row);export default Row;","map":{"version":3,"sources":["/Users/pavloskaralis/Desktop/pavloskaralis.github.io/traveler/src/components/Row.js"],"names":["React","useState","useEffect","connect","styled","TextareaAutosize","scheduleIcon","cancelIcon","addIcon","subtractIcon","toggleForm","selectPlanningRow","putPlanningRow","deleteSchedulingRow","putSchedulingRow","Wrapper","div","props","theme","gray","blue","TextArea","black","first","TDContainer","interest","Icon","image","orange","Interest","Time","input","Button","blackHover","mapStateToProps","state","userID","mapDispatchToProps","Row","rowType","row","activity","updateActivity","category","type","updateType","address","updateAddress","website","updateWebsite","updateInterest","time","updateTime","toggleInterest","updatedInterest","indexOf","slice","handleInput","e","target","id","value","console","log","updatedPlanning","JSON","stringify","updatedScheduling","length"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport styled from 'styled-components'\nimport { TextareaAutosize } from '@material-ui/core'\nimport scheduleIcon from '../images/schedule.png'\nimport cancelIcon from '../images/cancel.png'\nimport addIcon from '../images/add.png'\nimport subtractIcon from '../images/subtract.png'\nimport toggleForm from '../actions/toggleForm'\nimport selectPlanningRow from '../actions/selectPlanningRow.js'\nimport putPlanningRow from '../actions/putPlanningRow.js'\nimport deleteSchedulingRow from '../actions/deleteSchedulingRow.js'\nimport putSchedulingRow from '../actions/putSchedulingRow.js'\n\n\nconst Wrapper = styled.div`\n    min-height: 60px;\n    width: 100%;\n    min-width: 768px;\n    display: flex;\n    border-bottom: 1px solid ${props => props.theme.gray};\n    padding: 0 8px;\n    box-sizing: border-box;\n\n    input::-webkit-datetime-edit-hour-field:focus,\n    input::-webkit-datetime-edit-minute-field:focus,\n    input::-webkit-datetime-edit-ampm-field:focus {\n        background-color: ${props => props.theme.blue};\n    }\n`;\n\nconst TextArea = styled(TextareaAutosize)`\n    box-sizing: border-box;\n    min-height: 60px;\n    width: 16.67%;\n    background-color: white;\n    color: ${props => props.theme.black};\n    font-family: Verdana;\n    font-size: 16px;\n    padding: 19px 8px;\n    border: none;\n    resize: none;\n    outline: none;\n    font-weight: ${props => props.first ? '600' : ''};\n`;\n\nconst TDContainer = styled.div`\n    box-sizing: border-box;\n    min-height: 60px;\n    width: 16.67%;\n    display: flex;\n    flex-direction: ${props => props.interest? 'row' : 'column'};\n    justify-content: center;\n`;\n\nconst Icon = styled.div`\n    background-image: ${props => `url(${props.image})`};\n    background-size: 37px;\n    background-repeat: no-repeat;\n    background-position: center; \n    width: 50px;\n    height: 50px;\n    border-radius: 50px;\n    cursor: pointer;\n    align-self: center;\n\n    &:hover {\n        background-color: ${props => props.theme.orange};\n    }\n`;\n\nconst Interest = styled.div`\n    font-family: Verdana;\n    color: ${props => props.theme.black};\n    align-self: center;\n    margin-right: 16px;\n    font-weight: 600;\n    cursor: default;\n    font-size: 18px;\n`;\n\nconst Time = styled.input`\n    padding: 4px; \n    font-family: 'Verdana';\n    width: 125px;\n    height: 36px;\n    box-sizing: border-box;\n    font-size: 15px;\n    border: 0;\n    outline: 0;\n    cursor: text;\n    font-weight: 600;\n`;\n\nconst Button = styled.div`\n    cursor: pointer;\n    align-self: center;\n    background-color: ${props => props.theme.black};\n    width: 18px;\n    height: 18px;\n    border-radius: 4px;\n    background-image: ${props => `url(${props.image})`};\n    background-size: 10px;\n    background-position: center;\n    background-repeat: no-repeat;\n\n    &:hover {\n        background-color: ${props => props.theme.blackHover};\n    }\n`;\n\nconst mapStateToProps = state => {\n    return {\n      userID: state.userID\n    }\n}\n\nconst mapDispatchToProps = {\n    toggleForm,\n    selectPlanningRow,\n    putPlanningRow,\n    deleteSchedulingRow,\n    putSchedulingRow\n}\n\n\nlet Row = ({rowType, row, userID, toggleForm, selectPlanningRow, putPlanningRow, deleteSchedulingRow, putSchedulingRow}) => {\n\n    //textarea cannot use ref; must rely on state values for storage\n    const [activity, updateActivity] = useState(row.activity);\n    const [type, updateType] = useState(row.category);\n    const [address, updateAddress] = useState(row.address);\n    const [website, updateWebsite] = useState(row.website);\n    const [interest, updateInterest] = useState(row.interest);\n    const [time, updateTime] = useState(row.time);\n\n    //onClick for interest button; not a text area\n    const toggleInterest = () => {\n        let updatedInterest = interest.indexOf(userID) === -1 ? \n            [...interest,userID] : [...interest.slice(0,interest.indexOf(userID)),...interest.slice(interest.indexOf(userID) + 1)];\n\n        updateInterest(updatedInterest)\n    }\n    \n    // autoupdate for sort \n\n\n    //handles input value change for both planning and scheduling row\n    const handleInput = (e) => {\n        switch(e.target.id){\n            case `activity${row.id}`:return updateActivity(e.target.value);\n            case `type${row.id}`:return updateType(e.target.value);\n            case `address${row.id}`:return updateAddress(e.target.value);\n            case `website${row.id}`:return updateWebsite(e.target.value);\n            case `time${row.id}`: return updateTime(e.target.value);\n            default: console.log();\n        }\n        // updatedTime =  document.querySelector(`#time${row.id}`).value;\n    }\n    \n    useEffect(()=> {\n        // put request row on dismount if changed\n   \n            if(row.interest){\n                const updatedPlanning = {\n                    activity: activity,\n                    category: type,\n                    address: address,\n                    website: website,\n                    interest: JSON.stringify(interest)\n                }\n                if ( row.activity !== updatedPlanning.activity || row.category !== updatedPlanning.category ||\n                    row.address !== updatedPlanning.address || row.website!== updatedPlanning.website || \n                    JSON.stringify(row.interest) !== updatedPlanning.interest\n                )  putPlanningRow(row.id,updatedPlanning,row.id);\n            }else{\n                const updatedScheduling = {\n                    activity: activity,\n                    category: type,\n                    address: address,\n                    website: website,\n                    time: time\n                }\n                if( row.activity !== updatedScheduling.activity || row.category !== updatedScheduling.category ||\n                    row.address !== updatedScheduling.address || row.website!== updatedScheduling.website ||\n                    row.time !== updatedScheduling.time\n                ) putSchedulingRow(row.id,updatedScheduling,row.id);\n            }\n     \n    },[time, activity, type, website, address, interest])\n\n    return (\n        <>\n            {/* planning row */}\n            {rowType === 'planning' && \n                <Wrapper id={row.id}>\n                    <TextArea onChange={handleInput} value={activity} first='true' id={`activity${row.id}`}/>\n                    <TextArea onChange={handleInput} value={type} id={`type${row.id}`}/>\n                    <TextArea onChange={handleInput} value={address} id={`address${row.id}`}/>\n                    <TextArea onChange={handleInput} value={website} id={`website${row.id}`}/>\n                    <TDContainer interest>\n                        <Interest>{interest.length}</Interest>\n                        <Button image={interest.indexOf(userID) === -1 ? addIcon : subtractIcon} onClick={()=> toggleInterest(interest)} id='interest'/>\n                    </TDContainer>\n                    <TDContainer>\n                        <Icon image={scheduleIcon} onClick={()=> {selectPlanningRow(row); toggleForm('schedule')}}/>\n                    </TDContainer>\n                </Wrapper>}\n            {/* scheduling row */}\n            {rowType === 'scheduling' && \n                <Wrapper id={row.id}>\n                    <TDContainer>\n                        <Time type='time' onChange={handleInput} defaultValue={row.time} id={`time${row.id}`} placeholder=\"hh:mm\"/>\n                    </TDContainer>\n                    <TextArea onChange={handleInput} value={activity} id={`activity${row.id}`}/>\n                    <TextArea onChange={handleInput} value={type} id={`type${row.id}`}/>\n                    <TextArea onChange={handleInput} value={address} id={`address${row.id}`}/>\n                    <TextArea onChange={handleInput} value={website} id={`website${row.id}`}/>\n                    <TDContainer>\n                        <Icon image={cancelIcon} onClick={()=> deleteSchedulingRow(row.id)}/>\n                    </TDContainer>\n                </Wrapper>}\n        </>\n    )\n}\n\nRow = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Row)\n\nexport default Row\n\n  "]},"metadata":{},"sourceType":"module"}